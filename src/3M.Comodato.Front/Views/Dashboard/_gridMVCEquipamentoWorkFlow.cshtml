@model IEnumerable<_3M.Comodato.Front.Models.ListaEquipamentoWorkFlow>

@using GridMvc.Html

<div class="table table-hover">
    @Html.Grid(Model).Columns(columns =>
{

    columns.Add(foo => foo.modelo.DS_MODELO).Titled("MODELO").Sortable(false).Filterable(false);
    columns.Add(foo => foo.ATIVOS).Titled("ATIVOS").Sortable(false).Filterable(false);
    //columns.Add(foo => foo.DEPRECIACAO).Titled("DEPRECIAÇÃO").Sortable(false).Filterable(false);
    //columns.Add(foo => foo.CUSTO_MANUTENCAO).Titled("CUSTO MANUTENÇÃO").Sortable(false).Filterable(false);
    columns.Add(foo => foo.ENV).Titled("ENV").Sortable(false).Filterable(false).Css("text-center");
    columns.Add(foo => foo.MEN).Titled("MEN").Sortable(false).Filterable(false).Css("text-center");
    columns.Add(foo => foo.DEV).Titled("DEV").Sortable(false).Filterable(false).Css("text-center");
    columns.Add(foo => foo.PRJ).Titled("PRJ").Sortable(false).Filterable(false).Css("text-center");
    //columns.Add(foo => foo.PERCENTUAL).Titled("%").Sortable(false).Filterable(false);
    columns.Add(foo => foo.PERCENTUAL).Encoded(false).Sanitized(false).RenderValueAs(p => RenderCustomCSS(p.CORFUNDO, p.PERCENTUAL)).Titled("%").Sortable(false).Filterable(false).Css("text-center");
    //columns.Add()
    //    .Encoded(false)
    //    .Sanitized(false)
    //    .SetWidth(30)
    //    .RenderValueAs(o => o.NR_ORDENACAO == 1 ? " " : "<a href='#' onclick='Subir(" + o.NR_ORDENACAO + ")' class='fas fa-angle-up fa-lg' data-toggle='tooltip' data-placement='top' title='Subir' > </a>");
}).Named("tableMVCEquipamento")

</div>

@helper RenderCustomCSS(string CORFUNDO, decimal PERCENTUAL)
{
    if (CORFUNDO == "VERMELHO")
    {
        <span class="alert-danger">@PERCENTUAL</span>
    }
    else if (CORFUNDO == "AMARELO")
    {
        <span class="alert-warning">@PERCENTUAL</span>
    }
    else if (CORFUNDO == "VERDE")
    {
        <span class="alert-success">@PERCENTUAL</span>
    }
    else
    {
        <span>@PERCENTUAL</span>
    }
}
